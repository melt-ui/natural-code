<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS3和js炫酷点击按钮3D翻转动画特效</title>
    <link href="/static/scss/components/btn-del.css" rel="stylesheet"/>

    <!--[if IE]>
    <script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
    <![endif]-->


    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            user-select: none;
        }

        body {
            display: flex;
            font-family: Roboto, "Helvetica Neue", sans-serif;
            font-size: 18px;
            perspective: 1000px;
            background-color: #f5f5f5;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

    </style>


    <style media="screen">
        .project-title {
            position: absolute;
            left: 25px;
            bottom: 8px;

            font-size: 16px;
            color: #444;
        }

        .credits {
            position: absolute;
            right: 20px;
            bottom: 25px;
            font-size: 15px;
            z-index: 20;
            color: #444;
            vertical-align: middle;
        }

        .credits * + * {
            margin-left: 15px;
        }

        .credits a {
            padding: 8px 10px;
            color: #444;
            border: 2px solid #999;
            text-decoration: none;
        }

        .credits a:hover {
            border-color: #555;
            color: #222;
        }

        @media screen and (max-width: 1040px) {
            .project-title {
                display: none;
            }

            .credits {
                width: 100%;
                left: 0;
                right: auto;
                bottom: 0;
                padding: 30px 0;
                background: #ddd;
                text-align: center;
            }

            .credits a {
                display: inline-block;
                margin-top: 7px;
                margin-bottom: 7px;
            }
        }
    </style>
</head>
<body>

<div class="btn-del">
    <div class="btn">
        <div class="btn-back">
            <p>Are you sure you want to do that?</p>
            <button class="yes">Yes</button>
            <button class="no">No</button>
        </div>
        <div class="btn-front">Delete</div>
    </div>
</div>



<script>
    window.onload = function () {

        var btn = document.querySelector('.btn');

        var btnFront = btn.querySelector('.btn-front'),
            btnYes = btn.querySelector('.btn-back .yes'),
            btnNo = btn.querySelector('.btn-back .no');

        btnFront.addEventListener('click', function (event) {
            var mx = event.clientX - btn.offsetLeft,
                my = event.clientY - btn.offsetTop;

            var w = btn.offsetWidth,
                h = btn.offsetHeight;

            var directions = [
                {id: 'top', x: w / 2, y: 0},
                {id: 'right', x: w, y: h / 2},
                {id: 'bottom', x: w / 2, y: h},
                {id: 'left', x: 0, y: h / 2}
            ];

            directions.sort(function (a, b) {
                return distance(mx, my, a.x, a.y) - distance(mx, my, b.x, b.y);
            });

            btn.setAttribute('data-direction', directions.shift().id);
            btn.classList.add('is-open');
        });

        btnYes.addEventListener('click', function (event) {
            btn.classList.remove('is-open');
        });

        btnNo.addEventListener('click', function (event) {
            btn.classList.remove('is-open');
        });

        function distance(x1, y1, x2, y2) {
            var dx = x1 - x2;
            var dy = y1 - y2;
            return Math.sqrt(dx * dx + dy * dy);
        }

    };
</script>
</body>
</html>