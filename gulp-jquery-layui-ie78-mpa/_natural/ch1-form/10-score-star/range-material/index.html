<!doctype html>
<html lang="zh" class='no-js'>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4种时尚精美的input元素滑块UI设计效果</title>

    <!--<link rel="stylesheet" href="css/normalize.css"/>-->
    <!--<link rel="stylesheet" href="css/default.css">-->
    <link rel="stylesheet" href="/static/css/theme/natural/_output.css"/>

    <style>
        html {
            background: -webkit-radial-gradient(#fabc4d, #eb7e15 70%) no-repeat #eb7e15;
            background: radial-gradient(#fabc4d, #eb7e15 70%) no-repeat #eb7e15;
        }
    </style>

</head>
<body>
<article class="nt-range">

    <input type='range' id='r1' class='tip fill fill-replace'
           value='7' min='1' max='13'/>
    <input type='range' id='r2' class='tip fill'
           value='60'/>
    <input type='range' id='r3' class='tip'
           value='25' step='25'/>
    <input type='range' id='r4' class='fill'
           value='87'/>

</article>

<script src='stopExecutionOnTimeout.js?t=1'></script>
<script>
    var range_els = document.querySelectorAll('input[type=range]'), n = range_els.length,
        style_el = document.createElement('style'), styles = [], track_sel = [
            '::-moz-range-track',
            '::-webkit-slider-runnable-track',
            ' /deep/ #track'
        ], thumb_sel = [
            '::-webkit-slider-thumb',
            ' /deep/ #thumb'
        ], a = ':after', b = ':before', s = [
            '',
            '%',
            '%'
        ];
    document.body.appendChild(style_el);
    for (var i = 0; i < n; i++) {
        if (window.CP.shouldStopExecution(1)) {
            break;
        }
        styles.push('');
        range_els[i].addEventListener('input', function () {
            var idx = this.id.split('r')[1] - 1, base_sel = '.js #' + this.id, str = '', min = this.min || 0,
                max = this.max || 100, c_style, u, edge_w, val;
            this.setAttribute('value', this.value);
            if (this.classList.contains('tip')) {
                str += base_sel + thumb_sel[0] + a + ',' + base_sel + thumb_sel[1] + a + '{content:"' + this.value + s[idx] + '"}';
            }
            if (this.classList.contains('fill')) {
                if (idx == 0) {
                    c_style = getComputedStyle(this);
                    u = c_style.backgroundSize.split(' ')[0].split('px')[0];
                    edge_w = (c_style.width.split('px')[0] - u * (max - min)) / 2;
                    val = (this.value - min) * u + edge_w + 'px';
                } else {
                    val = this.value + '%';
                }
                if (this.classList.contains('fill-replace')) {
                    str += base_sel + track_sel[0] + '{background-size:' + val + '}';
                }
                str += base_sel + track_sel[1] + a + ',' + base_sel + track_sel[2] + a + '{width:' + val + '}';
            }
            styles[idx] = str;
            style_el.textContent = styles.join('');
        }, false);
    }
    window.CP.exitedLoop(1);
</script>
</body>
</html>